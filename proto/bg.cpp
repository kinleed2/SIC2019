#include "all.h"

OBJ2D map[20][25];
extern int lineX_2;

void bg_init()
{
	int i, j;
	for ( i = 0; i < 20; i++)
	{
		for ( j = 0; j < 25; j++)
		{
			map[i][j].type = 0;
		}
	}

}


void bg_update()
{
	int stage[20][25] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2, 
		0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1, 
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2, 
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1, 
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3, 
		1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 };



	int i, j;
	for (i = 0; i < 20; i++)
	{
		for (j = 0; j < 25; j++)
		{
			map[i][j].type = stage[i][j];
		}
	}


}

void bg_draw()
{
	int i, j;
	for (i = 0; i < 20; i++)
	{
		for (j = 0; j < 25; j++)
		{
			if (map[i][j].type == 1)
			{
				primitive::circle(j * 32+16, i * 32+16, 16, 0, 0, 0);
			}
			if (map[i][j].type == 2)
			{
				primitive::circle(j * 32 + 16, i * 32 + 16, 16, 0, 0, 1);
			}
			if (map[i][j].type == 3)
			{
				primitive::circle(j * 32 + 16, i * 32 + 16, 16, 0, 1, 0);
				if (lineX_2 != 0)
				{
					primitive::circle(j * 32 + 16, i * 32 + 16, 16, 0, 1, 1);
				}
			}

		}
	}


}